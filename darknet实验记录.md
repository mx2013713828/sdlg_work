# <div align='center'>ä½¿ç”¨darknetè®­ç»ƒYOLOå®éªŒè®°å½•</div>
#### <p align = "center">é©¬ç‰å³°ğŸ“œ</p>
-------------
2023.7.11æ›´æ–°
## è®­ç»ƒyolov3-tiny truck dataset

- ä¸‹è½½yolov3-tiny é¢„è®­ç»ƒæ¨¡å‹
- yolov3.weightsè½¬åŒ–ä¸ºä¿ç•™ 15å±‚å·ç§¯çš„yolov3.
```shell
./darknet partial ./cfg/yolov3-tiny-truck.cfg ./weights/yolov3-tiny.weights ./weights/yolov3-tiny.conv.15 15
```






-------------
2023.7.1
## å®‰è£…darknet

å¼€å¯cudaã€cudnnã€opencvï¼Œmakeç¼–è¯‘æˆåŠŸ

## æ¨ç†æµ‹è¯•

æˆåŠŸ

## è®­ç»ƒYOLOv3 truck dataset

ä½¿ç”¨yolov3.cfgï¼Œæ›´æ”¹batchã€æœ€åä¸€å±‚filtersã€classesæ•°
å»ºç«‹truck.dataï¼Œè®¾ç½®å›¾ç‰‡ç›®å½•ä¸labelæ–‡ä»¶ç›®å½•ã€‚

- å¼€å§‹è®­ç»ƒï¼Œåœ¨è·‘äº†5åˆ†é’Ÿå·¦å³å¤±è´¥ï¼Œsegmentation faultï¼Œç›´æ¥æ–­æ‰ã€‚
- é‡æ–°è®­ç»ƒï¼Œåœ¨è·‘äº†10åˆ†é’Ÿå·¦å³å¤±è´¥ï¼ŒåŒæ ·é”™è¯¯ã€‚
- ç¬¬ä¸‰æ¬¡è®­ç»ƒï¼Œä¸åˆ°3åˆ†é’Ÿå°±å¤±è´¥ï¼ŒåŒæ ·é”™è¯¯ã€‚
- å¤šæ¬¡å°è¯•ï¼Œå‡åœ¨è®­ç»ƒä¸€ä¼šåå¤±è´¥ã€‚

## ä½¿ç”¨vocå®éªŒ
- ä¸‹è½½vocæ•°æ®é›†ï¼Œé…ç½®ç›¸å…³æ–‡ä»¶ï¼Œå‡†å¤‡è®­ç»ƒã€‚
- ä½¿ç”¨vocè®­ç»ƒï¼Œ12å°æ—¶æ²¡æœ‰å‡ºç°é—®é¢˜ã€‚

## ä½¿ç”¨pytorchç‰ˆæœ¬YOLOv3

- æ­£å¸¸è®­ç»ƒï¼Œæ— é”™è¯¯ï¼Œç»“æœè‰¯å¥½

## è®­ç»ƒYOLOv5
- æ­£å¸¸è®­ç»ƒï¼Œæ— é”™è¯¯ã€‚

## æ’æŸ¥é—®é¢˜

- æ ¹æ®å®éªŒç»“æœæ¨æµ‹ï¼Œå¤§æ¦‚ç‡æ˜¯æ•°æ®é›†å‡ºç°é—®é¢˜ï¼Œä½†æ˜¯ä½¿ç”¨yolov5å¯ä»¥æ­£å¸¸è®­ç»ƒï¼Œå› ä¸ºyolov5ä»£ç ä¼šå°†é”™è¯¯å›¾ç‰‡å‰”é™¤ï¼Œdarknetä¸­çš„Cä»£ç æ— å…·ä½“bugä¿¡æ¯ï¼Œæ¨æµ‹æœ‰ä»¥ä¸‹å¯èƒ½æ€§ã€‚
- 1) æ•°æ®é›†å›¾ç‰‡æœ‰é—®é¢˜ã€‚å›¾ç‰‡æŸåã€ç¼ºå¤±ã€å›¾ç‰‡æ ¼å¼ã€‚
    2) æ ‡ç­¾æ–‡ä»¶æœ‰é—®é¢˜ã€‚ï¼ˆæ ‡ç­¾ä¸­ç±»åˆ«æ˜¯å¦>=8ï¼Œæ˜¯å¦æœ‰ ï¼ˆ0,0ï¼‰ç±»æ ‡ç­¾ï¼‰

## æ’æŸ¥ç»“æœ

- ä¸ºäº†æ’é™¤å›¾ç‰‡å­˜åœ¨æ ¼å¼é—®é¢˜ï¼Œå¦‚äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å¼€å¤´æˆ–ç»“å°¾å­˜åœ¨é”™è¯¯æˆ–ä¸¢å¤±ï¼Œå°†å›¾ç‰‡ä½¿ç”¨opencvéå†è¯»å–ï¼Œåˆé‡æ–°imwriteå†™å›ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å›¾ç‰‡æ ¼å¼æ­£ç¡®ã€‚
- è¯»å–æ ‡ç­¾æ–‡ä»¶ï¼Œéå†æ‰¾å‡º x y w h ä¸åœ¨ï¼ˆ0,1ï¼‰çš„ï¼Œå¹¶æ›´æ”¹èµ‹å€¼ã€‚
- ä¸Šè¿°æ’æŸ¥åï¼Œè®­ç»ƒä»æ—§ä¼šæ–­æ‰ã€‚ç»§ç»­æ’æŸ¥

- é‡æ–°ç¼–è¯‘ï¼Œç¦ç”¨OPENCVï¼Œè®­ç»ƒæˆåŠŸã€‚Map@0.5 = 62.17%
- æ¨æµ‹æ˜¯OPENCVç‰ˆæœ¬å·®åˆ«å¯¼è‡´çš„é—®é¢˜ï¼ŒåŸç‰ˆdarknetä½¿ç”¨çš„æ˜¯OpenCV2ï¼Œæœ¬æœºä½¿ç”¨çš„æ˜¯OpenCV3ã€‚
```
# è®­ç»ƒ
./darknet detector train cfg/truck.data cfg/yolov3-truck.cfg weights/darknet53.conv.74 
```

```
# æµ‹è¯•Map
./darknet detector map cfg/truck.data cfg/yolov3-truck.cfg backup/yolov3-truck_last.weights
```
![æµ‹è¯•ç»“æœå›¾](./images/darknet-result.png)


